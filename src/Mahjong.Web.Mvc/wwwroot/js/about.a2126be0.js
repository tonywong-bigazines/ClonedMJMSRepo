(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{6126:function(t,a,e){},"67c2":function(t,a,e){"use strict";var i=e("a4c4"),l=e.n(i);l.a},8840:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"liquidation"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("麻將臺")])]),t.tables?e("div",{staticClass:"card-body"},[e("el-table",{staticClass:"mahjong-tables",attrs:{data:t.tables}},[e("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-table",{staticClass:"seat-tables",attrs:{data:a.row.seats}},[e("el-table-column",{attrs:{prop:"position",label:"位置",width:"80"}}),e("el-table-column",{attrs:{prop:"playerCardId",label:"客戶卡",width:"100"}}),e("el-table-column",{attrs:{prop:"staffCardId",label:"員工卡",width:"180"}}),e("el-table-column",{attrs:{prop:"playerType",label:"玩家類型",width:"180"}}),e("el-table-column",{attrs:{label:"未收水錢"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.playerCard?e("span",[t._v(" "+t._s(a.row.playerCard.commission)+" ")]):t._e()]}}],null,!0)})],1)]}}],null,!1,898120108)}),e("el-table-column",{attrs:{prop:"id",label:"臺號",width:"80"}}),e("el-table-column",{attrs:{prop:"name",label:"臺名",width:"100"}}),e("el-table-column",{attrs:{prop:"description",label:"描述",width:"180"}}),e("el-table-column",{attrs:{label:"金額",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.minAmount)+" - "+t._s(a.row.maxAmount)+" ")]}}],null,!1,1885447875)}),e("el-table-column",{attrs:{prop:"unpaidCommissionTotal",label:"未收水錢"}})],1)],1):t._e()])],1)},l=[],s={name:"tables",data:function(){return{tables:[]}},methods:{},mounted:function(){var t=this;this.axios.get("http://mjms-core.azurewebsites.net/api/services/app/Table/GetAllWithSeats").then((function(a){console.log(a.data),t.tables=a.data.result.items}))},computed:{}},r=s,n=(e("b4f6"),e("2877")),o=Object(n["a"])(r,i,l,!1,null,null,null);a["default"]=o.exports},a4c4:function(t,a,e){},b4f6:function(t,a,e){"use strict";var i=e("6126"),l=e.n(i);l.a},c256:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"liquidation"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("結算 - 卡號："+t._s(t.playerCardId))])]),e("div",{staticClass:"card-body"},[t.liquidation?e("div",{staticClass:"liquidation-info"},[e("div",{staticClass:"histories-panel"},[e("table",{staticClass:"history-table",attrs:{id:"print"}},[e("thead",[e("tr",[e("th",[t._v("臺號")]),e("th",[t._v("回合")]),e("th",[t._v("事件")]),e("th",[t._v("輸贏")]),e("th",[t._v("代打")]),e("th")])]),e("tbody",[t._l(t.liquidation.histories,(function(a){return t._l(a.playHistoryDetails,(function(i){return e("tr",{key:i.creationTime},[e("td",[t._v(t._s(a.tableId))]),e("td",[t._v(t._s(a.round))]),e("td",[t._v(t._s(i.mohjongActionName))]),e("td",{staticClass:"winOrLose"},[e("span",{class:"贏"==t.winOrLose(i)?"win":"lose"},[t._v(t._s(t.winOrLose(i)))])]),e("td",[t._v(t._s(t.isHelpPlay(i)))]),e("td")])}))}))],2)])]),e("div",{staticClass:"sidebar"},[t.liquidation?e("table",{staticClass:"table total"},[e("tr",[e("td",[t._v("贏:")]),e("td",[t._v(t._s(t.liquidation.win)+" 場")])]),e("tr",[e("td",[t._v("輸:")]),e("td",[t._v(t._s(t.liquidation.lose)+" 場")])]),e("tr",[e("td",[t._v("總計:")]),e("td",[t._v("$"+t._s(t.liquidation.total))])])]):t._e(),e("div",{staticClass:"tips"},[t._v("輸入電話號碼以保存麻將記錄")]),e("el-form",{ref:"form"},[e("el-form-item",[e("el-input",{attrs:{placeholder:"電話號碼",type:"text"},model:{value:t.clientPhoneNumber,callback:function(a){t.clientPhoneNumber=a},expression:"clientPhoneNumber"}})],1)],1),e("div",{staticClass:"actions"},[e("el-button",{attrs:{type:"primary",round:""},on:{click:function(a){t.printDialog.visible=!0}}},[t._v("結算")])],1)],1)]):t._e()])]),e("el-dialog",{attrs:{title:"結算",visible:t.printDialog.visible,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(a){return t.$set(t.printDialog,"visible",a)}}},[e("div",{attrs:{id:"print-area"}},[e("img",{attrs:{src:"http://www.bigazines.com/wp-content/uploads/2015/11/logo.png"}}),t.liquidation?e("table",{staticClass:"table total"},[e("tr",[e("td",[t._v("電話:")]),e("td",[t._v(t._s(t.clientPhoneNumber))])]),e("tr",[e("td",[t._v("入場時間:")]),e("td",[t._v(t._s(t.liquidation.checkinTime.replace("T"," ").substring(0,19)))])]),e("tr",[e("td",[t._v("離座時間:")]),e("td",[t._v(t._s(t.liquidation.checkoutTime.replace("T"," ").substring(0,19)))])]),e("tr",[e("td",[t._v("贏:")]),e("td",[t._v(t._s(t.liquidation.win)+" 場")])]),e("tr",[e("td",[t._v("輸:")]),e("td",[t._v(t._s(t.liquidation.lose)+" 場")])]),e("tr",[e("td",[t._v("總計:")]),e("td",[t._v("$"+t._s(t.liquidation.total))])])]):t._e()]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.printDialog.visible=!1}}},[t._v("關閉")]),e("el-button",{directives:[{name:"print",rawName:"v-print",value:"#print-area",expression:"'#print-area'"}],attrs:{type:"primary",round:""}},[t._v("列印")])],1)])],1)},l=[],s={name:"liquidation",data:function(){return{clientPhoneNumber:"",liquidation:null,printDialog:{visible:!1}}},methods:{winOrLose:function(t){for(var a=0;a<t.players.length;a++)if(t.players[a].playerCardId==this.playerCardId)return"Win"===t.players[a].winOrLose?"贏":"輸";return""},isHelpPlay:function(t){for(var a=0;a<t.players.length;a++)if(t.players[a].playerCardId==this.playerCardId&&"代打"==t.players[a].playerType)return"代打";return""}},mounted:function(){var t=this;this.axios.get("http://mjms-core.azurewebsites.net/api/services/app/Card/GetPlayerHistory?cardId="+this.playerCardId).then((function(a){console.log(a.data),t.liquidation=a.data.result}))},computed:{playerCardId:function(){return this.$route.params.playerCardId}}},r=s,n=(e("67c2"),e("2877")),o=Object(n["a"])(r,i,l,!1,null,null,null);a["default"]=o.exports}}]);
//# sourceMappingURL=about.a2126be0.js.map